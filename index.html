<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="flexBox">
        <div class ="flexItem" id="compSpeak"> Can you beat me? </div>
        <div class="flexItem">
            <button id="rock"> Rock </button>
            <button id="paper"> Paper </button>
            <button id="scissors"> Scissors </button>
        </div>
        <div class ="flexItem" id="score"></div>
    </div>
    <script>
        
        let humanScore = 0;
        let computerScore = 0;

        function getComputerChoice() {
            let answer;

            randomNum = Math.random()
            if (randomNum <= 0.33) {
                return answer = "rock";
            } else if (randomNum <= 0.66) {
                return answer = "scissors";
            } else {
                return answer = "paper";
            }
        }

        function getHumanChoice() {
            while (true) {
                let handPlayed = prompt("What are you throwing? ", "").toLowerCase();

                if (handPlayed == "paper" || handPlayed == "rock" || handPlayed == "scissors" ) {
                    return handPlayed;
                } else {
                    alert("Invalid hand thrown: must be either rock, paper, or scissors only.");
                }
            }
        }

        function playRound(humanChoice) {
            let computerChoice = getComputerChoice();
            console.log("Computer throws: " + computerChoice);
            console.log("Player throws: " + humanChoice);

            if (humanChoice === computerChoice) {
                alert("It's a tie!");
            } else if (humanChoice === "rock" && computerChoice === "scissors") {
                alert("You win! Rock beats scissors.");
                humanScore++;
                updateScore();
            } else if (humanChoice === "rock" && computerChoice === "paper") {
                alert("You lose! Paper beats rock.");
                computerScore++;
                updateScore();
            } else if (humanChoice === "paper" && computerChoice === "rock") {
                alert("You win! Paper beats rock.");
                humanScore++;
                updateScore();
            } else if (humanChoice === "paper" & computerChoice === "scissors") {
                alert("You lose! Scissors beat paper.");
                computerScore++;
                updateScore();
            } else if (humanChoice === "scissors" && computerChoice === "paper") {
                alert("You win! Scissors beat paper.");
                humanScore++;
                updateScore();
            } else if (humanChoice === "scissors" && computerChoice === "rock") {
                alert("You lose! Rock beats scissors.");
                computerScore++;
                updateScore();
            }

            console.log("Player: " + humanScore + " Computer: " + computerScore);
        }

        function updateScore() {
            score.textContent = `Player: ${humanScore}  Computer: ${computerScore}`;
        }

        function checkWinner() {
            if (humanScore === 5) {
                alert(`You win! ${humanScore} to ${computerScore} `);
                compSpeak.textContent = "This isn't possible. I demand a rematch."
                rockBtn.remove();
                paperBtn.remove();
                scissorsBtn.remove();
            } else if (computerScore === 5) {
                alert(`Computer wins! ${computerScore} to ${humanScore}`);
                compSpeak.textContent = "I am your supreme AI overlord."
                rockBtn.remove();
                paperBtn.remove();
                scissorsBtn.remove();
            }
        }

        let compSpeak = document.querySelector('#compSpeak');
        let score = document.querySelector('#score')

        updateScore();
        

        let rockBtn = document.querySelector('#rock');
        let paperBtn = document.querySelector('#paper');
        let scissorsBtn = document.querySelector('#scissors');

        rockBtn.addEventListener('click', () => {playRound('rock'); checkWinner()});
        paperBtn.addEventListener('click', () => {playRound('paper'); checkWinner()});
        scissorsBtn.addEventListener('click', () => {playRound('scissors'); checkWinner()});
        
        console.log("Can you beat me?");

    </script>
</body>

</html>